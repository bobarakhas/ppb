(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1013:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(19);function r(){return o.isTreatment("Trmt_p2p_speed_up_animations")}},121:function(e,t,n){"use strict";var o=i(n(486)),r=i(n(354));function i(e){return e&&e.__esModule?e:{default:e}}e.exports={TransitionGroup:r.default,CSSTransitionGroup:o.default}},268:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},354:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=u(n(487)),i=u(n(0)),a=u(n(13)),s=(u(n(488)),n(489));function u(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var l=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState((function(t){var n=o({},t.children);return delete n[e],{children:n}}))},i.childRefs=Object.create(null),i.state={children:(0,s.getChildMapping)(n.children)},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var o in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var r=n&&n.hasOwnProperty(o);!t[o]||r||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach((function(t){return e.performEnter(t,e.childRefs[t])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(t){return e.performLeave(t,e.childRefs[t])}))},t.prototype.render=function(){var e=this,t=[],n=function(n){var o=e.state.children[n];if(o){var a="string"!=typeof o.ref,s=e.props.childFactory(o),u=function(t){e.childRefs[n]=t};s===o&&a&&(u=(0,r.default)(o.ref,u)),t.push(i.default.cloneElement(s,{key:n,ref:u}))}};for(var a in this.state.children)n(a);var s=o({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,i.default.createElement(this.props.component,s,t)},t}(i.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},355:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=o,e.exports=t.default},356:function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};r(n(0));var o=r(n(13));function r(e){return e&&e.__esModule?e:{default:e}}t.nameShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,leave:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,leave:o.default.string,leaveActive:o.default.string,appear:o.default.string,appearActive:o.default.string})])},486:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=l(n(0)),i=l(n(13)),a=l(n(354)),s=l(n(490)),u=n(356);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}u.nameShape.isRequired,i.default.bool,i.default.bool,i.default.bool,(0,u.transitionTimeout)("Appear"),(0,u.transitionTimeout)("Enter"),(0,u.transitionTimeout)("Leave");var d=function(e){function t(){var n,o;c(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=o=p(this,e.call.apply(e,[this].concat(a))),o._wrapChild=function(e){return r.default.createElement(s.default,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},e)},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r.default.createElement(a.default,o({},this.props,{childFactory:this._wrapChild}))},t}(r.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},487:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},488:function(e,t,n){"use strict";e.exports=function(){}},489:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return o.Children.map(e,(function(e){return e})).forEach((function(e){t[e.key]=e})),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var o={},r=[];for(var i in e)t.hasOwnProperty(i)?r.length&&(o[i]=r,r=[]):r.push(i);var a=void 0,s={};for(var u in t){if(o.hasOwnProperty(u))for(a=0;a<o[u].length;a++){var l=o[u][a];s[o[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s};var o=n(0)},490:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=d(n(491)),i=d(n(493)),a=d(n(494)),s=n(495),u=d(n(0)),l=d(n(13)),c=n(63),p=n(356);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=[];s.transitionEnd&&h.push(s.transitionEnd),s.animationEnd&&h.push(s.animationEnd);l.default.node,p.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var v=function(e){function t(){var n,o;f(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=m(this,e.call.apply(e,[this].concat(i))),o.componentWillAppear=function(e){o.props.appear?o.transition("appear",e,o.props.appearTimeout):e()},o.componentWillEnter=function(e){o.props.enter?o.transition("enter",e,o.props.enterTimeout):e()},o.componentWillLeave=function(e){o.props.leave?o.transition("leave",e,o.props.leaveTimeout):e()},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)})),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var o=(0,c.findDOMNode)(this);if(o){var a=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||a+"-active",l=null,p=void 0;(0,r.default)(o,a),this.queueClassAndNode(u,o);var d=function(e){e&&e.target!==o||(clearTimeout(l),p&&p(),(0,i.default)(o,a),(0,i.default)(o,u),p&&p(),t&&t())};n?(l=setTimeout(d,n),this.transitionTimeouts.push(l)):s.transitionEnd&&(p=function(e,t){return h.length?h.forEach((function(n){return e.addEventListener(n,t,!1)})):setTimeout(t,0),function(){h.length&&h.forEach((function(n){return e.removeEventListener(n,t,!1)}))}}(o,d))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)((function(){return n.flushClassNameAndNodeQueue()})))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(e){e.node.scrollTop,(0,r.default)(e.node,e.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=o({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,u.default.cloneElement(u.default.Children.only(this.props.children),e)},t}(u.default.Component);v.displayName="CSSTransitionGroupChild",v.propTypes={},t.default=v,e.exports=t.default},491:function(e,t,n){"use strict";var o=n(268);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=o(n(492));e.exports=t.default},492:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},493:function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},494:function(e,t,n){"use strict";var o=n(268);t.__esModule=!0,t.default=void 0;var r,i=o(n(355)),a="clearTimeout",s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),o=setTimeout(e,n);return l=t,o},u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=u(e,"request");if(t in window)return a=u(e,"cancel"),s=function(e){return window[t](e)}}));var l=(new Date).getTime();(r=function(e){return s(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var c=r;t.default=c,e.exports=t.default},495:function(e,t,n){"use strict";var o=n(268);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r,i,a,s,u,l,c,p,d,f,m,h=o(n(355)),v="transform";if(t.transform=v,t.animationEnd=a,t.transitionEnd=i,t.transitionDelay=c,t.transitionTiming=l,t.transitionDuration=u,t.transitionProperty=s,t.animationDelay=m,t.animationTiming=f,t.animationDuration=d,t.animationName=p,h.default){var y=function(){for(var e,t,n=document.createElement("div").style,o={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},r=Object.keys(o),i="",a=0;a<r.length;a++){var s=r[a];if(s+"TransitionProperty"in n){i="-"+s.toLowerCase(),e=o[s]("TransitionEnd"),t=o[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:i}}();r=y.prefix,t.transitionEnd=i=y.transitionEnd,t.animationEnd=a=y.animationEnd,t.transform=v=r+"-"+v,t.transitionProperty=s=r+"-transition-property",t.transitionDuration=u=r+"-transition-duration",t.transitionDelay=c=r+"-transition-delay",t.transitionTiming=l=r+"-transition-timing-function",t.animationName=p=r+"-animation-name",t.animationDuration=d=r+"-animation-duration",t.animationTiming=f=r+"-animation-delay",t.animationDelay=m=r+"-animation-timing-function"}var g={transform:v,end:i,property:s,timing:l,delay:c,duration:u};t.default=g},896:function(e,t,n){"use strict";n.r(t);var o=n(18),r=n.n(o),i=n(3),a=n.n(i),s=n(0),u=n.n(s),l=n(16),c=n(60),p=n(121),d=n(221),f=n(9),m=document.getElementById("js_foreground"),h={};var v=0;function y(){if(m){var e=m.style;e.position=h.position||"",e.overflow=h.overflow||"",e.top=h.top||0,window.scrollTo(0,v)}}var g=n(27),b=n(63),E=n.n(b),w=document.getElementById("overpanel-root");w||((w=document.createElement("div")).id="overpanel-root",document.body.appendChild(w));class T extends u.a.Component{constructor(){super(...arguments),a()(this,"dom",document.createElement("div"))}componentDidMount(){w.appendChild(this.dom)}componentWillUnmount(){w.removeChild(this.dom)}render(){return E.a.createPortal(this.props.children,this.dom)}}var O=n(53),_=n(44),C=n(7),j=n(25),N=n(1013),x=n(5);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"DEFAULT_DURATION",(function(){return P})),n.d(t,"Overpanel",(function(){return H}));var L=Object(f.a)("inc/overpanel"),P=Object(N.a)()?300:400,M="GLIMPSE",k=Object(c.css)({opacity:0}),S=Object(c.css)({opacity:1,transition:"opacity ".concat(P,"ms ease-in-out")}),W=Object(c.css)({opacity:1}),R=Object(c.css)({opacity:0,transition:"opacity ".concat(P,"ms ease-in-out")}),I=Object(c.css)({position:"fixed !important",transform:"translateY(100%)"}),G=Object(c.css)({position:"fixed !important",transform:"translateY(0)",transition:"transform ".concat(P,"ms ease-out")}),K=Object(c.css)({transform:"translateY(0)"}),z=Object(c.css)({transform:"translateY(100%)",transition:"transform ".concat(P,"ms ease-in")}),B=l.h.div({background:"rgba(210, 210, 210, .5)",position:"fixed",zIndex:1e3,top:0,right:0,bottom:0,left:0}),U=l.h.div({position:"absolute",right:0,left:0,top:0,bottom:0,zIndex:1050,overflow:"auto"}),F=l.h.div("col-xs-12",{minHeight:"100%",boxSizing:"border-box",padding:"70px 50px",backgroundColor:"white",[g.j]:{padding:"80px 30px"},":focus":{outline:"none"}},e=>{var{preset:t}=e;return t===M?"col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3":""}),Q=l.h.div({":focus":{outline:"none"}}),q=l.h.button({position:"absolute",top:"0",right:"0",padding:"15px",margin:"10px",zIndex:100,background:"none",border:0});function Y(e){var{hideCloseButton:t}=e;return t?null:u.a.createElement(q,e,u.a.createElement("span",{className:"icon icon-close-small","aria-hidden":"true"}),u.a.createElement("span",{className:"accessAid"},L("button.close")))}class H extends u.a.Component{constructor(){super(...arguments),a()(this,"duration",this.props.styleOverrides.animationDuration||P),a()(this,"onShow",()=>{var{openOverpanelCount:e,onOverpanelOpen:t=(()=>{}),shouldCloseOnEsc:n,dispatch:o}=this.props;0===e&&function(){if(m){v=window.pageYOffset;var e=m.style;h.position=e.position,h.overflow=e.overflow,h.top=e.top,e.position="fixed",e.overflow="hidden",e.top="-".concat(v,"px"),window.scrollTo(0,0)}}(),o(_.a()),n&&document.addEventListener("keyup",this.handleEscKey),t()}),a()(this,"onClose",()=>{var{openOverpanelCount:e,shouldCloseOnEsc:t,dispatch:n}=this.props;1===e&&setTimeout(y,this.duration),n(_.d()),t&&document.removeEventListener("keyup",this.handleEscKey)}),a()(this,"handleEscKey",e=>{27===e.keyCode&&this.handleCloseOverpanel()}),a()(this,"handleCloseOverpanel",()=>{var{handleClose:e=(()=>{}),onClosed:t=(()=>{}),pageName:n,pageGroup:o}=this.props;n&&o&&Object(C.trackLink)("close",o,n,"link"),e(),t&&setTimeout(t,this.duration)})}componentDidMount(){this.props.show&&this.onShow()}componentWillUnmount(){this.props.show&&this.onClose()}componentDidUpdate(e){var{show:t}=this.props;t!==e.show&&(t?this.onShow():this.onClose())}render(){var{show:e,children:t,a11yTitle:n,preset:o="GLIMPSE",hideCloseButton:i,styleOverrides:a={}}=this.props;return u.a.createElement(T,null,u.a.createElement(p.CSSTransitionGroup,r()({transitionName:{enter:"".concat(k),enterActive:"".concat(S),leave:"".concat(W),leaveActive:"".concat(R)},transitionEnterTimeout:this.duration,transitionLeaveTimeout:this.duration},a.backgroundAnimation),e&&u.a.createElement(B,{key:"background",css:a.background})),u.a.createElement(p.CSSTransitionGroup,r()({transitionName:{enter:"".concat(I),enterActive:"".concat(G),leave:"".concat(K),leaveActive:"".concat(z)},transitionEnterTimeout:this.duration,transitionLeaveTimeout:this.duration},a.contentAnimation),e&&u.a.createElement(U,{key:"wrapper",style:{zIndex:this.props.zIndex||1050}},u.a.createElement(F,{preset:o,css:a.content,"data-pools-iframe-key":"overpanel"},u.a.createElement(d.a,{returnFocus:!0},u.a.createElement(Q,{role:"dialog","aria-label":n,tabIndex:"-1","aria-modal":!0,"data-autofocus":!0},u.a.createElement(Y,{"data-autofocus":!0,onClick:this.handleCloseOverpanel,css:a.closeButton,hideCloseButton:i}),t))))))}}a()(H,"defaultProps",{styleOverrides:{},shouldCloseOnEsc:!0,hideCloseButton:!1,preset:"GLIMPSE"}),a()(H,"setAppElement",(function(e){m=e}));t.default=Object(O.b)(e=>{var{server:t,overpanels:n}=e;return{openOverpanelCount:n.openOverpanelCount,hideCloseButton:t.env===x.d.PISP&&"request"===Object(j.a)()}},null,(e,t,n)=>D(D(D({},e),t),n))(H)}}]);
//# sourceMappingURL=overpanel.esm.js.map